<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Steak Bot</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Arial&display=swap');
  
  body {
    font-family: Arial, sans-serif;
    background: #2b0a0a;
    color: #eee;
    margin: 0;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
    min-height: 200vh; /* make page tall enough to scroll */
  }

  .background-steaks {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 0;
    overflow: visible;
  }

  .background-steaks span {
    position: absolute;
    user-select: none;
    color: #7a1f1f;
    font-size: var(--size);
    transform-origin: center center;
    will-change: transform;
    opacity: 0.1;
  }

  .content {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 0 auto;
  }

  h1, h2, h3 {
    color: #ffd700;
  }
  a {
    color: #ffae00;
    text-decoration: none;
  }
  a:hover {
    text-decoration: underline;
  }
  code {
    background-color: #333;
    padding: 2px 5px;
    border-radius: 3px;
    font-family: monospace;
  }
  pre {
    background-color: #222;
    padding: 10px;
    border-radius: 5px;
    overflow-x: auto;
  }
  .update-section {
    background-color: #3e1a1a;
    padding: 15px;
    border-radius: 8px;
    margin-top: 30px;
  }
  ul {
    line-height: 1.5;
  }
  table {
    border-collapse: collapse;
    width: 100%;
    margin: 10px 0;
  }
  th, td {
    border: 1px solid #555;
    padding: 8px;
    text-align: left;
  }
  th {
    background-color: #5a1f1f;
  }
  .version {
    margin-top: 40px;
    font-weight: bold;
    font-size: 0.9em;
    text-align: center;
    color: #ccc;
  }
</style>
</head>
<body>

<div class="background-steaks" aria-hidden="true">
  <span style="--size: 30px; top: 10%; left: 15%;">游볼</span>
  <span style="--size: 50px; top: 40%; left: 5%;">游볼</span>
  <span style="--size: 40px; top: 60%; left: 25%;">游볼</span>
  <span style="--size: 20px; top: 80%; left: 10%;">游볼</span>
  <span style="--size: 35px; top: 30%; left: 70%;">游볼</span>
  <span style="--size: 45px; top: 50%; left: 80%;">游볼</span>
  <span style="--size: 25px; top: 70%; left: 65%;">游볼</span>
  <span style="--size: 55px; top: 15%; left: 90%;">游볼</span>
  <span style="--size: 30px; top: 85%; left: 75%;">游볼</span>
</div>

<div class="content">
  <h1>Steak Bot</h1>
  <p>Steak Bot is a fun and interactive Twitch chat bot that lets viewers "eat" random steaks using the <code>!bettersteak</code> command. It adds humor and engagement to any stream by generating playful steak messages like:</p>
  <p><code>@username has eaten a spicy peppercorn steak!</code></p>

  <h2>Features</h2>
  <ul>
    <li>Random Steak Generator: Viewers use <code>!bettersteak</code> to receive a randomized steak message.</li>
    <li>Custom Steaks: Streamers and moderators can add their own custom steaks using <code>!addsteak YourCustomSteak</code>.</li>
    <li>Permission Control: Only streamers and mods can add new steaks to keep things clean and fun.</li>
    <li>Multi-Channel Support: One bot can serve multiple Twitch channels at once.</li>
    <li>Always Online (with uptime service + Render): No need to host it yourself.</li>
  </ul>

  <div class="update-section">
    <h2>SteakHunt Update</h2>
    <h3>What is the SteakHunt Update?</h3>
    <p>The SteakHunt Update adds a daily rotating target steak that viewers can try to eat using the <code>!bettersteak</code> command. If they succeed in eating the exact daily hunt steak, they earn 1 steak point, which is saved permanently and can be viewed with <code>!steakpoints</code>.</p>

    <h3>Daily Reset at 00:00 Germany Time</h3>
    <p>The steak hunt updates every day at midnight in Germany (based on Berlin time).</p>
    <p>This is handled using the pytz library, which ensures proper timezone handling including daylight saving time (CEST/CET).</p>
    <p>A new steak is randomly chosen each day from the full list (default + custom steaks).</p>

    <h3>New Data File: steak_hunt.json</h3>
    <p>This file stores:</p>
    <ul>
      <li>The current hunt steak ("steak")</li>
      <li>The date it was last generated ("date")</li>
    </ul>
    <p>Example:</p>
    <pre>{
  "date": "2025-07-04",
  "steak": "bloody raw steak"
}</pre>
    <p>This file ensures:</p>
    <ul>
      <li>The hunt steak persists across bot restarts.</li>
      <li>A new steak is only chosen once per day, exactly at 00:00 in Berlin time.</li>
    </ul>

    <h3>Updated Commands</h3>
    <ul>
      <li><code>!steakhunt</code><br>Shows the current target steak of the day.<br>Example response:<br><code>The current steak hunt target is: spicy peppercorn steak. Eat this with !bettersteak to earn a steak point!</code></li>
      <li><code>!bettersteak</code> (updated logic)<br>Still randomly gives you a steak.<br>New logic: If the steak you eat matches the current <code>!steakhunt</code> steak, you gain 1 steak point.<br>Your steak point is saved in the "points" section of <code>steak_inventory.json</code>.</li>
      <li><code>!steakpoints</code><br>Shows how many steak points you have earned by correctly eating the hunt steak.<br>Example:<br><code>@coolviewer you have 5 steak point(s)!</code></li>
    </ul>

    <h3>Files Used in the Update</h3>
    <ul>
      <li><code>steak_hunt.json</code>: Stores the current hunt steak and date.</li>
      <li><code>steak_inventory.json</code>: Stores steak inventories and point totals.</li>
      <li><code>custom_steaks.txt</code>: Still stores user-added steaks.</li>
    </ul>

    <h3>Why this matters</h3>
    <p>It adds daily interaction and competition to your stream.</p>
    <p>Viewers have a reason to come back every day.</p>
    <p>You can build features on top of this:</p>
    <ul>
      <li>Leaderboards</li>
      <li>Milestone rewards</li>
      <li>Monthly steak hunt competitions</li>
      <li>Announce when the new daily hunt steak starts</li>
    </ul>
    <p>Let me know if you want to add:</p>
    <ul>
      <li><code>!topsteakhunters</code> to show a leaderboard.</li>
      <li>An auto-announcement when the new steak is selected at 00:00.</li>
      <li>A cooldown or confirmation when a user earns a steak point.</li>
    </ul>
  </div>

  <div class="version">Version 4.4.1 - Updated July 7, 2025</div>
</div>

<script>
  const steaks = document.querySelectorAll('.background-steaks span');
  
  // Store initial positions as percentages for vertical position parallax
  const steakData = [];
  steaks.forEach((steak, i) => {
    steakData[i] = {
      baseTop: parseFloat(steak.style.top),  // percentage
      left: steak.style.left,
      size: parseInt(steak.style.getPropertyValue('--size')),
      rotation: Math.random() * 360,
      scale: 1,
      scaleDirection: 1,
      rotationSpeed: (Math.random() * 0.2) + 0.05, // degrees per frame
      scaleSpeed: (Math.random() * 0.005) + 0.001, // scale change per frame
      scaleMin: 0.85,
      scaleMax: 1.15,
    };
  });

  // Parallax effect for vertical position on scroll at half speed
  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    steaks.forEach((steak, i) => {
      const data = steakData[i];
      const newTop = data.baseTop + scrollY * 0.05; // 0.05 = half speed approx for viewport percentage
      steak.style.top = `${newTop}%`;
    });
  });

  // Animate rotation and scaling continuously
  function animate() {
    steaks.forEach((steak, i) => {
      const data = steakData[i];
      
      // Update rotation
      data.rotation += data.rotationSpeed;
      if (data.rotation > 360) data.rotation -= 360;
      
      // Update scale
      data.scale += data.scaleSpeed * data.scaleDirection;
      if (data.scale > data.scaleMax || data.scale < data.scaleMin) {
        data.scaleDirection *= -1;
      }

      steak.style.transform = `rotate(${data.rotation}deg) scale(${data.scale.toFixed(3)})`;
    });

    requestAnimationFrame(animate);
  }

  animate();
</script>

</body>
</html>
